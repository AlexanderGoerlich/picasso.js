<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Data · picasso.js</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Data · picasso.js"/><meta property="og:type" content="website"/><meta property="og:url" content="https://picassojs.com/index.html"/><meta property="og:description" content="Data in picasso.js generally flows from top to bottom: one or more data sources of various types are provided to a chart instance; each component can then use those data sources or parts of them."/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/picasso.min.js"></script><script type="text/javascript" src="/js/landing.js"></script><script type="text/javascript" src="/js/tutorial.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/picassojs.svg"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/installation.html" target="_self">Docs</a></li><li><a href="/docs/tutorial.html" target="_self">Tutorial</a></li><li><a href="/en/examples.html" target="_self">Examples</a></li><li><a href="https://github.com/qlik-oss/picasso.js" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Getting started</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Getting started</h3><ul><li class="navListItem"><a class="navItem" href="/docs/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/chart.html">Chart</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/data.html">Data</a></li><li class="navListItem"><a class="navItem" href="/docs/components.html">Components</a></li></ul></div><div class="navGroup navGroupActive"><h3>General</h3><ul><li class="navListItem"><a class="navItem" href="/docs/scales.html">Scales</a></li><li class="navListItem"><a class="navItem" href="/docs/brushing.html">Brushing in components</a></li><li class="navListItem"><a class="navItem" href="/docs/interaction.html">Interaction</a></li><li class="navListItem"><a class="navItem" href="/docs/formatters.html">Formatting</a></li><li class="navListItem"><a class="navItem" href="/docs/dock-layout.html">Dock layout</a></li></ul></div><div class="navGroup navGroupActive"><h3>Scales</h3><ul><li class="navListItem"><a class="navItem" href="/docs/scale-linear.html">Linear</a></li><li class="navListItem"><a class="navItem" href="/docs/scale-band.html">Band</a></li><li class="navListItem"><a class="navItem" href="/docs/scale-categorical-color.html">Categorical color</a></li><li class="navListItem"><a class="navItem" href="/docs/scale-sequential-color.html">Sequential color</a></li><li class="navListItem"><a class="navItem" href="/docs/scale-threshold-color.html">Threshold color</a></li></ul></div><div class="navGroup navGroupActive"><h3>Components</h3><ul><li class="navListItem"><a class="navItem" href="/docs/component-axis.html">Axis</a></li><li class="navListItem"><a class="navItem" href="/docs/component-grid-line.html">Grid</a></li><li class="navListItem"><a class="navItem" href="/docs/component-point.html">Point</a></li><li class="navListItem"><a class="navItem" href="/docs/component-box.html">Box</a></li><li class="navListItem"><a class="navItem" href="/docs/component-line.html">Line area</a></li><li class="navListItem"><a class="navItem" href="/docs/component-pie.html">Pie</a></li><li class="navListItem"><a class="navItem" href="/docs/component-legend-cat.html">Categorical legend</a></li><li class="navListItem"><a class="navItem" href="/docs/component-legend-seq.html">Sequential legend</a></li><li class="navListItem"><a class="navItem" href="/docs/component-text.html">Text</a></li><li class="navListItem"><a class="navItem" href="/docs/component-labels.html">Labels</a></li><li class="navListItem"><a class="navItem" href="/docs/component-brush-area-dir.html">Brush area</a></li><li class="navListItem"><a class="navItem" href="/docs/component-brush-lasso.html">Brush lasso</a></li><li class="navListItem"><a class="navItem" href="/docs/component-brush-range.html">Brush range</a></li></ul></div><div class="navGroup navGroupActive"><h3>Plugins</h3><ul><li class="navListItem"><a class="navItem" href="/docs/plugin-q.html">q</a></li><li class="navListItem"><a class="navItem" href="/docs/plugin-hammer.html">Hammer</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Data</h1></header><article><div><span><p>Data in picasso.js generally flows from top to bottom: one or more data sources of various types are provided to a chart instance; each component can then use those data sources or parts of them.</p>
<h2><a class="anchor" aria-hidden="true" name="providing-data-to-a-chart-instance"></a><a href="#providing-data-to-a-chart-instance" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Providing data to a chart instance</h2>
<pre><code class="hljs css js">picasso.chart({
  <span class="hljs-attr">data</span>: [{
    <span class="hljs-attr">key</span>: <span class="hljs-string">'table 1'</span>,
    <span class="hljs-attr">type</span>: <span class="hljs-string">'matrix'</span>,
    <span class="hljs-attr">data</span>: [<span class="hljs-comment">/* */</span>]
  }, {
    <span class="hljs-attr">key</span>: <span class="hljs-string">'table2'</span>,
    <span class="hljs-attr">type</span>: <span class="hljs-string">'matrix'</span>,
    <span class="hljs-attr">data</span>: [<span class="hljs-comment">/* */</span>]
  }]
});
</code></pre>
<p>The <code>key</code> is an identifier for the provided data sets and is used when specifying which set to use later on.</p>
<p>The <code>type</code> refers to one of the registered data parsers and ultimately decides how to interpret the provided data.</p>
<p>The default <code>type</code> is a <code>'matrix'</code>, which is just a 2D array with headers on the first row:</p>
<pre><code class="hljs css js">type: <span class="hljs-string">'matrix'</span>,
<span class="hljs-attr">data</span>: [
  [<span class="hljs-string">'Year'</span>, <span class="hljs-string">'Sales'</span>],
  [<span class="hljs-string">'2015'</span>, <span class="hljs-number">56</span>],
  [<span class="hljs-string">'2016'</span>, <span class="hljs-number">49</span>]
  ...
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="providing-data-to-components"></a><a href="#providing-data-to-components" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Providing data to components</h2>
<p>You can provide data to a component in a few different ways, depending on how you want to visualize it. To ensure as little manipulation as possible of the data in the actual component, you should always strive to create a data structure that as closely as possible resembles the visual output of the component.</p>
<h3><a class="anchor" aria-hidden="true" name="manual-input"></a><a href="#manual-input" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Manual input</h3>
<p>The simplest way to provide data to a component is an array of values:</p>
<pre><code class="hljs css js"><span class="hljs-comment">// input</span>
data: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]

<span class="hljs-comment">// or</span>
data: {
  <span class="hljs-attr">items</span>: [{ <span class="hljs-attr">num</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'one'</span> }, { <span class="hljs-attr">num</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'two'</span> }, { <span class="hljs-attr">num</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'three'</span> }],
  <span class="hljs-attr">value</span>: <span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.num,
  <span class="hljs-attr">label</span>: <span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.text
}
</code></pre>
<p>The data input is then normalized to ensure that the structure consumed by a component is always the same, regardless of input. So both of the above configurations will result in the following output:</p>
<pre><code class="hljs css js">data: {
  <span class="hljs-attr">items</span>: [{ <span class="hljs-attr">value</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'one'</span> }, { <span class="hljs-attr">value</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'two'</span> }, { <span class="hljs-attr">value</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'three'</span> }]
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="extracting-data-from-datasets"></a><a href="#extracting-data-from-datasets" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extracting data from datasets</h3>
<p>Assuming we have the following dataset input:</p>
<pre><code class="hljs css js">picasso.chart({
  <span class="hljs-attr">data</span>: [{
    <span class="hljs-attr">key</span>: <span class="hljs-string">'Products'</span>,
    <span class="hljs-attr">type</span>: <span class="hljs-string">'matrix'</span>,
    <span class="hljs-attr">data</span>: [
      [<span class="hljs-string">'Product'</span>, <span class="hljs-string">'Year'</span>, <span class="hljs-string">'Sales'</span>, <span class="hljs-string">'Margin'</span>],
      [{ <span class="hljs-attr">name</span>: <span class="hljs-string">'Boots'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'Shoes'</span> }, <span class="hljs-number">2015</span>, <span class="hljs-number">45</span>, <span class="hljs-number">0.23</span>],
      [{ <span class="hljs-attr">name</span>: <span class="hljs-string">'Sneakers'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'Shoes'</span> }, <span class="hljs-number">2016</span>, <span class="hljs-number">49</span>, <span class="hljs-number">0.21</span>],
      [{ <span class="hljs-attr">name</span>: <span class="hljs-string">'Sandals'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'Shoes'</span> }, <span class="hljs-number">2017</span>, <span class="hljs-number">42</span>, <span class="hljs-number">0.25</span>],
      [{ <span class="hljs-attr">name</span>: <span class="hljs-string">'White socks'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'Socks'</span> }, <span class="hljs-number">2016</span>, <span class="hljs-number">14</span>, <span class="hljs-number">0.42</span>],
      [{ <span class="hljs-attr">name</span>: <span class="hljs-string">'Blue socks'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'Socks'</span> }, <span class="hljs-number">2017</span>, <span class="hljs-number">15</span>, <span class="hljs-number">0.41</span>]
    ]
  }]
});
</code></pre>
<p>and want to create a scatter plot where each bubble represents a <em>Product group</em>, and <em>Sales</em> and <em>Margin</em> are mapped to a bubble's <code>x</code> and <code>y</code> properties. Since there are only two product groups we want to <strong>extract</strong> those data points, aggregate the values for <em>Sales</em> and <em>Margin</em>, and ignore the fields we are not interested in (<em>Year</em>).</p>
<p>How to extract data points and what the resulting data output looks like is determined by each dataset <code>type</code>. For the <code>matrix</code> type, we can do the following:</p>
<pre><code class="hljs css js">data: {
  <span class="hljs-attr">extract</span>: [{
    <span class="hljs-attr">source</span>: <span class="hljs-string">'Products'</span>,
    <span class="hljs-attr">field</span>: <span class="hljs-string">'Product'</span>,
    <span class="hljs-attr">trackBy</span>: <span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.group, <span class="hljs-comment">// collect products based on the 'group' property</span>
    reduce: <span class="hljs-function"><span class="hljs-params">values</span> =&gt;</span> values[<span class="hljs-number">0</span>].group, <span class="hljs-comment">// use the group property as value for the group</span>
    props: { <span class="hljs-comment">// each property config is attached as a property to the main item</span>
      x: { <span class="hljs-attr">field</span>: <span class="hljs-string">'Sales'</span>, <span class="hljs-attr">reduce</span>: <span class="hljs-string">'sum'</span> },
      <span class="hljs-attr">y</span>: { <span class="hljs-attr">field</span>: <span class="hljs-string">'Margin'</span>, <span class="hljs-attr">reduce</span>: <span class="hljs-string">'avg'</span> }
    }
  }]
}
</code></pre>
<p>which would result in the following data struct:</p>
<pre><code class="hljs css js">data: {
  <span class="hljs-attr">items</span>: [
    {
      <span class="hljs-attr">value</span>: <span class="hljs-string">'Shoes'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'Shoes'</span>, <span class="hljs-attr">source</span>: { <span class="hljs-attr">key</span>: <span class="hljs-string">'Products'</span>, <span class="hljs-attr">field</span>: <span class="hljs-string">'Product'</span> },
      <span class="hljs-attr">x</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">136</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'136'</span>, <span class="hljs-attr">source</span>: { <span class="hljs-attr">key</span>: <span class="hljs-string">'Products'</span>, <span class="hljs-attr">field</span>: <span class="hljs-string">'Sales'</span> } },
      <span class="hljs-attr">y</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">0.23</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'0.23'</span>, <span class="hljs-attr">source</span>: { <span class="hljs-attr">key</span>: <span class="hljs-string">'Products'</span>, <span class="hljs-attr">field</span>: <span class="hljs-string">'Margin'</span> } }
    },
    {
      <span class="hljs-attr">value</span>: <span class="hljs-string">'Socks'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'Socks'</span>, <span class="hljs-attr">source</span>: { <span class="hljs-attr">key</span>: <span class="hljs-string">'Products'</span>, <span class="hljs-attr">field</span>: <span class="hljs-string">'Product'</span> },
      <span class="hljs-attr">x</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">29</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'29'</span>, <span class="hljs-attr">source</span>: { <span class="hljs-attr">key</span>: <span class="hljs-string">'Products'</span>, <span class="hljs-attr">field</span>: <span class="hljs-string">'Sales'</span> } },
      <span class="hljs-attr">y</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">0.415</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'0.415'</span>, <span class="hljs-attr">source</span>: { <span class="hljs-attr">key</span>: <span class="hljs-string">'Products'</span>, <span class="hljs-attr">field</span>: <span class="hljs-string">'Margin'</span> } }
    }
  ],
  <span class="hljs-attr">fields</span>: [{<span class="hljs-comment">/* a 'field' instance */</span>}]
}
</code></pre>
<blockquote>
<p>Notice that the data <code>source</code> for each value is stored in the output; this plays a key part in enabling <em>brushing</em>.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" name="filtering"></a><a href="#filtering" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Filtering</h3>
<p>A <code>filter</code> function can be used to exclude certain values in the data source:</p>
<pre><code class="hljs css js">data: {
  <span class="hljs-attr">extract</span>: [{
    <span class="hljs-attr">source</span>: <span class="hljs-string">'Products'</span>,
    <span class="hljs-attr">field</span>: <span class="hljs-string">'Product'</span>,
    <span class="hljs-attr">filter</span>: <span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> d.name !== <span class="hljs-string">'Sandals'</span> <span class="hljs-comment">// exclude 'Sandals'</span>
  }]
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="stacking"></a><a href="#stacking" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stacking</h3>
<p>Extracted items can be stacked using a <code>stack</code> configuration:</p>
<pre><code class="hljs css js">data: {
  <span class="hljs-attr">extract</span>: [{
    <span class="hljs-attr">source</span>: <span class="hljs-string">'Products'</span>,
    <span class="hljs-attr">field</span>: <span class="hljs-string">'Product'</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> d.name,
    <span class="hljs-attr">label</span>: <span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> <span class="hljs-string">`&lt;<span class="hljs-subst">${d.name}</span>&gt;`</span>
    props: {
      <span class="hljs-attr">year</span>: { <span class="hljs-attr">field</span>: <span class="hljs-string">'Year'</span> }
      num: { <span class="hljs-attr">field</span>: <span class="hljs-string">'Sales'</span> }
    }
  }],
  <span class="hljs-attr">stack</span>: {
    <span class="hljs-attr">stackKey</span>: <span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span>  d.year.value, <span class="hljs-comment">// stack by year</span>
    value: <span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> d.num.value <span class="hljs-comment">// stack using the num value for each product</span>
  }
}

<span class="hljs-comment">// output</span>
[
  {
    <span class="hljs-attr">value</span>: <span class="hljs-string">'Boots'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'&lt;Boots&gt;'</span>, <span class="hljs-attr">source</span>: {}
    year: { <span class="hljs-attr">value</span>: <span class="hljs-number">2015</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">num</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">45</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">start</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">end</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">45</span>, <span class="hljs-attr">source</span>: {} },
  },
  {
    <span class="hljs-attr">value</span>: <span class="hljs-string">'Sneakers'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'&lt;Sneakers&gt;'</span>, <span class="hljs-attr">source</span>: {}
    year: { <span class="hljs-attr">value</span>: <span class="hljs-number">2016</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">num</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">49</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">start</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">end</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">49</span>, <span class="hljs-attr">source</span>: {} },
  },
  {
    <span class="hljs-attr">value</span>: <span class="hljs-string">'Sandals'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'&lt;Sandals&gt;'</span>, <span class="hljs-attr">source</span>: {}
    year: { <span class="hljs-attr">value</span>: <span class="hljs-number">2017</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">num</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">start</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">end</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">source</span>: {} },
  },
  {
    <span class="hljs-attr">value</span>: <span class="hljs-string">'White socks'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'&lt;White socks&gt;'</span>, <span class="hljs-attr">source</span>: {}
    year: { <span class="hljs-attr">value</span>: <span class="hljs-number">2016</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">num</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">14</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">start</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">49</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">end</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">63</span>, <span class="hljs-attr">source</span>: {} },
  },
  {
    <span class="hljs-attr">value</span>: <span class="hljs-string">'Blue socks'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'&lt;Blue socks&gt;'</span>, <span class="hljs-attr">source</span>: {}
    year: { <span class="hljs-attr">value</span>: <span class="hljs-number">2015</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">num</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">start</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">source</span>: {} },
    <span class="hljs-attr">end</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">67</span>, <span class="hljs-attr">source</span>: {} },
  }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="mapping-extracted-data-to-visual-properties"></a><a href="#mapping-extracted-data-to-visual-properties" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mapping extracted data to visual properties</h2>
<p>Once a component has been provided with some data, it can be used to encode the visual properties of a component. Which properties depends on the component, but usually most of them support setting the position, size, color, shape, stroke etc.</p>
<p>There are three ways to define the value for a visual property:</p>
<ul>
<li>A constant</li>
<li>A function, which is executed once per data item</li>
<li>An object containing a reference to a <code>scale</code>, a <code>ref</code>erence to an extracted data value, and an optional callback function <code>fn</code></li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="using-the-extracted-data"></a><a href="#using-the-extracted-data" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using the extracted data</h3>
<p>Assuming a <code>data</code> extraction configuration of:</p>
<pre><code class="hljs css js">extract: {
  <span class="hljs-attr">field</span>: <span class="hljs-string">'Product'</span>,
  <span class="hljs-attr">props</span>: {
    <span class="hljs-attr">x</span>: { <span class="hljs-attr">field</span>: <span class="hljs-string">'Sales'</span> }
  }
}
</code></pre>
<p>the following definitions in a components settings will all result in the same <code>x</code> value:</p>
<pre><code class="hljs css js">{
  <span class="hljs-attr">x</span>: { <span class="hljs-attr">ref</span>: <span class="hljs-string">"x"</span> } <span class="hljs-comment">// reference the 'x' value in the mapped data</span>
  x: { <span class="hljs-attr">ref</span>: <span class="hljs-string">"x"</span>, <span class="hljs-attr">fn</span>: (d) { <span class="hljs-keyword">return</span> d.value; } }, <span class="hljs-comment">// the referenced data property 'x' in sent in as the first parameter in the callback</span>
  x: { <span class="hljs-attr">fn</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data.x.value; } }, <span class="hljs-comment">// the mapped data can be accessed through 'this.data'</span>
  x: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data.x.value; } <span class="hljs-comment">// the mapped data can be accessed through 'this.data'</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="scale-usage"></a><a href="#scale-usage" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scale usage</h3>
<p>If a reference to a <code>scale</code> is defined, the mapped data value will go through the scale, returning a new value.</p>
<p>Assuming a scale 'linX' is defined as:</p>
<pre><code class="hljs css js">scales: {
  <span class="hljs-attr">linX</span>: { <span class="hljs-attr">data</span>: { <span class="hljs-attr">field</span>: <span class="hljs-string">"Sales"</span> }, <span class="hljs-attr">expand</span>: <span class="hljs-number">0.2</span> }
}
</code></pre>
<p>the following definitions will all result in the same <code>x</code> value:</p>
<pre><code class="hljs css js">{
  <span class="hljs-attr">x</span>: { <span class="hljs-attr">ref</span>: <span class="hljs-string">"x"</span>, <span class="hljs-attr">scale</span>: <span class="hljs-string">"linX"</span> }, <span class="hljs-comment">// automatically sends value 'x' through the scale and returns the scaled value</span>
  x: { <span class="hljs-attr">ref</span>: <span class="hljs-string">"x"</span>, <span class="hljs-attr">scale</span>: <span class="hljs-string">"linX"</span>, <span class="hljs-attr">fn</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.scale(d) } }, <span class="hljs-comment">// the referenced 'scale' is accessible in the callback's 'this' context</span>
  x: { <span class="hljs-attr">scale</span>: <span class="hljs-string">"linX"</span>, <span class="hljs-attr">fn</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.scale(<span class="hljs-keyword">this</span>.data.x.value) } }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="more-expressiveness"></a><a href="#more-expressiveness" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>More expressiveness</h3>
<p>Since all mapped data is accessible in property callbacks, the values can be used for more expressive representation of properties:</p>
<pre><code class="hljs css js">{
  <span class="hljs-attr">fill</span>: {
    <span class="hljs-attr">scale</span>: <span class="hljs-string">"linX"</span>,
    <span class="hljs-attr">fn</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-comment">// color the maximum value red</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.scale.max() &gt;= <span class="hljs-keyword">this</span>.data.x.value ? <span class="hljs-string">"red"</span> : <span class="hljs-string">"grey"</span>;
    }
  }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="example"></a><a href="#example" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h3>
<pre><code class="hljs css js">components: [{
  <span class="hljs-attr">type</span>: <span class="hljs-string">"point"</span>,
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">extract</span>: {
      <span class="hljs-attr">field</span>: <span class="hljs-string">"Products"</span>,
      <span class="hljs-attr">props</span>: {
        <span class="hljs-attr">size</span>: { <span class="hljs-attr">field</span>: <span class="hljs-string">"margin"</span> }
      }
    },
  },
  <span class="hljs-attr">settings</span>: {
    <span class="hljs-attr">x</span>: <span class="hljs-number">0.2</span>, <span class="hljs-comment">// constant, places all points at the same position along the x-axis</span>
    y: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">Math</span>.random(), <span class="hljs-comment">// function is called for each product</span>
    fill: <span class="hljs-string">'red'</span>, <span class="hljs-comment">// constant</span>
    size: {
      <span class="hljs-attr">scale</span>: <span class="hljs-string">'s'</span>, <span class="hljs-comment">// reference to a scale 's', data property 'size' is used automatically</span>
    },
    <span class="hljs-attr">shape</span>: <span class="hljs-function">(<span class="hljs-params">d, i</span>) =&gt;</span> [<span class="hljs-string">"rect"</span>, <span class="hljs-string">"circle"</span>, <span class="hljs-string">"star"</span>][i % <span class="hljs-number">3</span>]
  }
}]
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="chart.html">← Chart</a><a class="docs-next button" href="components.html">Components →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Docs</h5><a href="/docs/installation.html">Getting Started</a><a href="/docs/tutorial.html">Tutorial</a><a href="/examples.html">Examples</a></div><div><h5> </h5><div class="footerIcons"><a href="https://github.com/qlik-oss/picasso.js"><img src="/img/GitHub-Mark-Light-120px-plus.png" alt="GitHub" width="25" height="25"/></a><a href="http://qlikbranch-slack-invite.herokuapp.com/"><img src="/img/Slack_Mark_Monochrome_White.svg" alt="Join us on Slack" width="50" height="50"/></a><a class="github-button" href="https://github.com/qlik-oss/picasso.js" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star qlik-oss/picasso.js on GitHub">Star</a></div></div></section><a href="https://github.com/qlik-oss/" target="_blank" class="qlikOpenSource"><img src="/img/QlikLogo-White.png" alt="Qlik Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2018 QlikTech International AB.</section></footer></div><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-113818093-1', 'auto');
              ga('send', 'pageview');
            </script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script></body></html>