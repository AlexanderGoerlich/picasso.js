<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Labels · picasso.js</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Labels · picasso.js"/><meta property="og:type" content="website"/><meta property="og:url" content="https://picassojs.com/index.html"/><meta property="og:description" content="A component that renders labels based on the visual output of other components."/><meta property="og:image" content="https://picassojs.com/img/picassojs.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/landing.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/picassojs.svg"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/installation.html" target="_self">Docs</a></li><li><a href="/docs/tutorial.html" target="_self">Tutorial</a></li><li><a href="/en/examples.html" target="_self">Examples</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li><li><a href="https://github.com/qlik-oss/picasso.js" target="_self"></a></li><li><a href="https://twitter.com/picassodotjs" target="_self"></a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Components</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Getting started</h3><ul><li class="navListItem"><a class="navItem" href="/docs/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/chart.html">Chart</a></li><li class="navListItem"><a class="navItem" href="/docs/data.html">Data</a></li><li class="navListItem"><a class="navItem" href="/docs/components.html">Components</a></li></ul></div><div class="navGroup navGroupActive"><h3>General</h3><ul><li class="navListItem"><a class="navItem" href="/docs/scales.html">Scales</a></li><li class="navListItem"><a class="navItem" href="/docs/brushing.html">Brushing in components</a></li><li class="navListItem"><a class="navItem" href="/docs/interaction.html">Interaction</a></li><li class="navListItem"><a class="navItem" href="/docs/formatters.html">Formatting</a></li><li class="navListItem"><a class="navItem" href="/docs/dock-layout.html">Dock layout</a></li></ul></div><div class="navGroup navGroupActive"><h3>Scales</h3><ul><li class="navListItem"><a class="navItem" href="/docs/scale-linear.html">Linear</a></li><li class="navListItem"><a class="navItem" href="/docs/scale-band.html">Band</a></li><li class="navListItem"><a class="navItem" href="/docs/scale-categorical-color.html">Categorical color</a></li><li class="navListItem"><a class="navItem" href="/docs/scale-sequential-color.html">Sequential color</a></li><li class="navListItem"><a class="navItem" href="/docs/scale-threshold-color.html">Threshold color</a></li></ul></div><div class="navGroup navGroupActive"><h3>Components</h3><ul><li class="navListItem"><a class="navItem" href="/docs/component-axis.html">Axis</a></li><li class="navListItem"><a class="navItem" href="/docs/component-grid-line.html">Grid</a></li><li class="navListItem"><a class="navItem" href="/docs/component-point.html">Point</a></li><li class="navListItem"><a class="navItem" href="/docs/component-box.html">Box</a></li><li class="navListItem"><a class="navItem" href="/docs/component-line.html">Line area</a></li><li class="navListItem"><a class="navItem" href="/docs/component-pie.html">Pie</a></li><li class="navListItem"><a class="navItem" href="/docs/component-legend-cat.html">Categorical legend</a></li><li class="navListItem"><a class="navItem" href="/docs/component-legend-seq.html">Sequential legend</a></li><li class="navListItem"><a class="navItem" href="/docs/component-text.html">Text</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/component-labels.html">Labels</a></li><li class="navListItem"><a class="navItem" href="/docs/component-brush-area-dir.html">Brush area</a></li><li class="navListItem"><a class="navItem" href="/docs/component-brush-lasso.html">Brush lasso</a></li><li class="navListItem"><a class="navItem" href="/docs/component-brush-range.html">Brush range</a></li></ul></div><div class="navGroup navGroupActive"><h3>Plugins</h3><ul><li class="navListItem"><a class="navItem" href="/docs/plugin-q.html">q</a></li><li class="navListItem"><a class="navItem" href="/docs/plugin-hammer.html">Hammer</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Labels</h1></header><article><div><span><p>A component that renders labels based on the visual output of other components.</p>
<p>Since this component depends on other referenced components, it is important that the <code>displayOrder</code> of this component is set to a larger value than all of the referenced components.</p>
<h2><a class="anchor" aria-hidden="true" name="strategies"></a><a href="#strategies" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Strategies</h2>
<h3><a class="anchor" aria-hidden="true" name="bars"></a><a href="#bars" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>bars</code></h3>
<p>A strategy used primarily for labeling the rectangles in a bar chart, histogram, waterfall or similar.</p>
<p>This strategy is based on the direction of a bar (<code>'up'</code>, <code>'down'</code>, <code>'right'</code>, <code>'left'</code>), which is used to find three possible positions for a label: <code>'inside'</code>, <code>'outside'</code>, <code>'opposite'</code>. Which position fits best for any given label depends on the measured size of the label, and the boundaries of the different positions.</p>
<p><img src="/img/bar-labels.png" alt="Bar labeling strategy"></p>
<p>In the image above, the order of label placements is <code>['inside', 'outside', 'opposite'</code>], that is, the label is placed inside the bar if it fits, then outside and finally on the opposite side of the bar's direction. If the entire label doesn't fit in any of those places, it is placed inside the largest rectangle of the three.
The label is then justified, aligned and ellipsed if necessary.</p>
<h4><a class="anchor" aria-hidden="true" name="example"></a><a href="#example" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<pre><code class="hljs css js">components: [
  {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'box'</span>,
    <span class="hljs-attr">key</span>: <span class="hljs-string">'bars'</span>,
    <span class="hljs-attr">displayOrder</span>: <span class="hljs-number">1</span>,
    <span class="hljs-comment">/* ... */</span>
  },
  {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'labels'</span>,
    <span class="hljs-attr">displayOrder</span>: <span class="hljs-number">2</span> <span class="hljs-comment">// must be larger than the displayOrder for the 'bars' component</span>
    settings: {
      <span class="hljs-attr">sources</span>: [{
        <span class="hljs-attr">component</span>: <span class="hljs-string">'bars'</span>,
        <span class="hljs-attr">selector</span>: <span class="hljs-string">'rect'</span>, <span class="hljs-comment">// select all 'rect' shapes from the 'bars' component</span>
        strategy: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'bar'</span>, <span class="hljs-comment">// the strategy type</span>
          settings: {
            <span class="hljs-attr">direction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">{ data }</span>) </span>{ <span class="hljs-comment">// data argument is the data bound to the shape in the referenced component</span>
              <span class="hljs-keyword">return</span> data &amp;&amp; data.end.value &gt; data.start.value ? <span class="hljs-string">'up'</span> : <span class="hljs-string">'down'</span>
            },
            <span class="hljs-attr">fontFamily</span>: <span class="hljs-string">'Helvetica'</span>,
            <span class="hljs-attr">fontSize</span>: <span class="hljs-number">14</span>,
            <span class="hljs-attr">align</span>: <span class="hljs-number">0.5</span>,
            <span class="hljs-attr">justify</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">labels</span>: [{
              label({ data }) {
                <span class="hljs-keyword">return</span> data ? data.end.label : <span class="hljs-string">''</span>;
              },
              <span class="hljs-attr">placements</span>: [ <span class="hljs-comment">// label placements in prio order. Label will be placed in the first place it fits into</span>
                { <span class="hljs-attr">position</span>: <span class="hljs-string">'inside'</span>, <span class="hljs-attr">fill</span>: <span class="hljs-string">'#fff'</span> },
                { <span class="hljs-attr">position</span>: <span class="hljs-string">'outside'</span>, <span class="hljs-attr">fill</span>: <span class="hljs-string">'#666'</span> }
              ]
            }]
          }
        }
      }]
    }
  }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="api-reference"></a><a href="#api-reference" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API Reference</h2>
<h3><a class="anchor" aria-hidden="true" name="settings"></a><a href="#settings" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Settings</h3>
<pre><code class="hljs css js">settings: {
  <span class="hljs-attr">sources</span>: [{ <span class="hljs-comment">// components to use as input to a labeling strategy</span>
    component: <span class="hljs-string">'bar'</span>, <span class="hljs-comment">// component key</span>
    selector: <span class="hljs-string">'rect'</span>, <span class="hljs-comment">// component shape selector</span>
    strategy: { <span class="hljs-comment">/* strategy */</span> }, 
  }],
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="labels-settings"></a><a href="#labels-settings" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Labels settings</h3>
<pre><code class="hljs css js">{
  <span class="hljs-attr">type</span>: <span class="hljs-string">'labels'</span>, <span class="hljs-comment">// Optional</span>
  settings: { 
    <span class="hljs-attr">sources</span>: [ 
      { 
        <span class="hljs-attr">component</span>: <span class="hljs-comment">/* string */</span>,
        <span class="hljs-attr">selector</span>: <span class="hljs-comment">/* string */</span>,
        <span class="hljs-attr">strategy</span>: <span class="hljs-comment">/* #/definitions/component--labels/definitions/label-strategy */</span>,
      },
    ],
  },
}
</code></pre>
<p><strong>Definitions</strong></p>
<pre><code class="hljs css js">label-strategy: { 
  <span class="hljs-attr">settings</span>: { 
    <span class="hljs-attr">direction</span>: <span class="hljs-string">'up'</span>,  <span class="hljs-comment">// Optional</span>
    fontFamily: <span class="hljs-string">'Arial'</span>, <span class="hljs-comment">// Optional</span>
    fontSize: <span class="hljs-number">12</span>, <span class="hljs-comment">// Optional</span>
    labels: [ 
      { 
        <span class="hljs-attr">label</span>: <span class="hljs-comment">/* string | function */</span>, 
        <span class="hljs-attr">placements</span>: [ 
          { 
            <span class="hljs-attr">position</span>: <span class="hljs-comment">/* string */</span>, <span class="hljs-comment">// 'inside' | 'outside' | 'opposite'</span>
            justify: <span class="hljs-number">0</span>, <span class="hljs-comment">// Placement of the label along the direction of the bar // Optional</span>
            align: <span class="hljs-number">0.5</span>, <span class="hljs-comment">// Placement of the label along the perpendicular direction of the bar // Optional</span>
            fill: <span class="hljs-string">'#333'</span>, <span class="hljs-comment">// Color of the label // Optional</span>
          },
        ],
      },
    ],
  },
},
</code></pre>
<h4><a class="anchor" aria-hidden="true" name="bar-strategy"></a><a href="#bar-strategy" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bar strategy</h4>
<pre><code class="hljs css js">{
  <span class="hljs-attr">settings</span>: { 
    <span class="hljs-attr">direction</span>: <span class="hljs-string">'up'</span>,  <span class="hljs-comment">// Optional</span>
    fontFamily: <span class="hljs-string">'Arial'</span>, <span class="hljs-comment">// Optional</span>
    fontSize: <span class="hljs-number">12</span>, <span class="hljs-comment">// Optional</span>
    labels: [ 
      { 
        <span class="hljs-attr">label</span>: <span class="hljs-comment">/* string | function */</span>, 
        <span class="hljs-attr">placements</span>: [ 
          { 
            <span class="hljs-attr">position</span>: <span class="hljs-comment">/* string */</span>, <span class="hljs-comment">// 'inside' | 'outside' | 'opposite'</span>
            justify: <span class="hljs-number">0</span>, <span class="hljs-comment">// Placement of the label along the direction of the bar // Optional</span>
            align: <span class="hljs-number">0.5</span>, <span class="hljs-comment">// Placement of the label along the perpendicular direction of the bar // Optional</span>
            fill: <span class="hljs-string">'#333'</span>, <span class="hljs-comment">// Color of the label // Optional</span>
          },
        ],
      },
    ],
  },
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="component-text.html">← Text</a><a class="docs-next button" href="component-brush-area-dir.html">Brush area →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Docs</h5><a href="/docs/installation.html">Getting Started</a><a href="/docs/tutorial.html">Tutorial</a><a href="/examples.html">Examples</a></div><div><h5>Links</h5><a href="http://qlikbranch-slack-invite.herokuapp.com/"><i class="fa fa-slack"></i> Slack</a><a href="https://twitter.com/picassodotjs"><i class="fa fa-twitter"></i> Twitter</a><a href="https://github.com/qlik-oss/picasso.js"><i class="fa fa-github"></i> GitHub</a></div></section><a href="https://github.com/qlik-oss/" target="_blank" class="qlikOpenSource"><img src="/img/QlikLogo-White.png" alt="Qlik Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2018 QlikTech International AB.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-113818093-1', 'auto');
              ga('send', 'pageview');
            </script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
              var search = docsearch({
                apiKey: '3acaf839e39f2abc9d53e17093978fe3',
                indexName: 'picassojs',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":7}
              });
            </script></body></html>